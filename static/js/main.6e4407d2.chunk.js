(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(t,e,a){t.exports=a(19)},,,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),l=a.n(n),i=a(3),r=a.n(i),c=(a(15),a(16),a(4)),o=a(5),s=a(8),u=a(6),m=a(1),h=a(7);var d=function(t){return l.a.createElement(n.Fragment,null,l.a.createElement("td",null,t.list.map(function(t){return l.a.createElement("span",null,t.airline.en.name,l.a.createElement("br",null))})),l.a.createElement("td",null,t.list.map(function(t){return l.a.createElement("span",null,t.codeShare,l.a.createElement("br",null))})))};var p=function(t){var e=new Date(t.time),a=e.getHours(),n=e.getMinutes();return l.a.createElement("td",null,"".concat(a,":").concat(n<10?"0"+n:n))};var f=function(t){return l.a.createElement("tr",null,l.a.createElement("td",{className:"terminal"},l.a.createElement("p",{className:"A"===t.flightData.term?"green":"blue"},t.flightData.term)),"departure"===t.display?l.a.createElement("td",null,t.flightData.gateNo):null,l.a.createElement(p,{time:t.flightData.timeDepExpectCalc?t.flightData.timeDepExpectCalc:t.flightData.timeToStand}),l.a.createElement("td",null,t.flightData["airportToID.city_en"]?t.flightData["airportToID.city_en"]:t.flightData["airportFromID.city_en"]),l.a.createElement(d,{list:t.flightData.codeShareData}),l.a.createElement("td",null,t.flightData.status))};a(17);var g=function(t){return l.a.createElement("table",{className:"schedule"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Terminal"),"departure"===t.display?l.a.createElement("th",null,"Gate"):null,l.a.createElement("th",null,"Local time"),l.a.createElement("th",null,"Destination"),l.a.createElement("th",null,"Airline"),l.a.createElement("th",null,"Flight"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,t.listOfFlights.sort(function(t,e){return(t.timeDepExpectCalc||t.timeToStand)<(e.timeDepExpectCalc||e.timeToStand)}).map(function(e){return l.a.createElement(f,{key:e.ID,flightData:e,display:t.display})})))},D=(a(18),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(s.a)(this,Object(u.a)(e).call(this,t))).state={display:"departure",flightData:[],table:[],date:null,dateForTable:[],yesterdayToDisplay:"",todayToDisplay:"",tomorrowToDisplay:""},a.changeDisplay=a.changeDisplay.bind(Object(m.a)(a)),a.filterFlights=a.filterFlights.bind(Object(m.a)(a)),a}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.getDate()}},{key:"componentDidUpdate",value:function(t,e){var a=this;this.state.date!==e.date&&this.loadApi("https://api.iev.aero/api/flights/".concat(this.state.date)).then(function(t){a.setState(function(e){return{flightData:t,table:t.departure}})})}},{key:"getDate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=new Date,n=a.getDate()+e,l=a.getMonth()+1,i=a.getFullYear();this.setState({date:"".concat(n,"-").concat(l,"-").concat(i),dateForTable:[i,l,n]},function(){return t.state})}},{key:"loadApi",value:function(t){return fetch(t).then(function(t){return t.json()}).then(function(t){return t.body})}},{key:"changeDisplay",value:function(t){var e=this;this.setState({display:t.target.value,table:this.state.flightData[t.target.value]},function(){return e.state.table})}},{key:"filterFlights",value:function(t){return new Date(t).getDate()}},{key:"render",value:function(){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"display"},l.a.createElement("button",{onClick:this.changeDisplay,value:"departure",className:"departure"===this.state.display?"active dep":"inactive dep"},"Departures"),l.a.createElement("button",{onClick:this.changeDisplay,value:"arrival",className:"arrival"===this.state.display?"active arr":"inactive arr"},"Arrivals")),l.a.createElement("div",{className:"calendar"}),l.a.createElement("div",{className:"dayToDisplay"},l.a.createElement("button",{onClick:this.getDate.bind(this,-1)},"Yesterday"),l.a.createElement("button",{onClick:this.getDate.bind(this,0),className:"active"},"Today"),l.a.createElement("button",{onClick:this.getDate.bind(this,1)},"Tomorrow")),l.a.createElement(g,{display:this.state.display,listOfFlights:this.state.table.filter(function(e){return e.timeDepExpectCalc?t.filterFlights(e.timeDepExpectCalc)===t.filterFlights(t.state.dateForTable):t.filterFlights(e.timeToStand)===t.filterFlights(t.state.dateForTable)})}))}}]),e}(n.Component));var E=function(){return l.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.6e4407d2.chunk.js.map